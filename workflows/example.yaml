name: "Analyze transactions"
models:
  deep-seek:
    type: "ollama"
    model: "deepseek-r1:7b"
tools:
  csv-reader:
    use: "modelflow-tools/csv-reader@1"  
task:
  name: "Categorize transactions and Calculate Totals"
  steps:
    - name: "Read CSV file"
      id: "read-csv"
      tool: "csv-reader"
      parameters:
        path: "@home/transactions.csv"
      outputs: {
        data: { $ref }
      }
    - name: "Categorize transactions"
      model: "deep-seek"
      parameters:
        prompt: "Categorize transactions and Calculate Totals"
        examples: [
          { "transaction": "Grocery", "category": "Food" },
          { "transaction": "Gas", "category": "Transportation" },
          { "transaction": "Rent", "category": "Housing" }
        ]
        data: { $step: read-csv.outputs.data }
        outputs: {
          file: "@home/transaction.txt"
        }
